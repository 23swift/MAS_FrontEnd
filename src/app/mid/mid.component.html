<div class="flex-branch-list-header">
    <span class="mat-headline">MID Details</span>
    <a (click)="addMid()" mat-mini-fab *ngIf="form !== 'POS'">
        <mat-icon>playlist_add</mat-icon>
    </a>
</div>

<div fxLayout="row">
    <table mat-table [dataSource]="dataSource">
        <ng-container matColumnDef="Currency">
            <th mat-header-cell *matHeaderCellDef style="width: 25%"> Currency </th>
            <td mat-cell *matCellDef="let element"> {{element.Currency}} </td>
        </ng-container>
        <ng-container matColumnDef="MonitorCode">
            <th mat-header-cell *matHeaderCellDef> Monitor Code </th>
            <td mat-cell *matCellDef="let element"> {{ element.MonitorCode }} </td>
        </ng-container>
        <ng-container matColumnDef="CardPlans">
            <th mat-header-cell *matHeaderCellDef> Card Plans/Styles </th>
            <td mat-cell *matCellDef="let element"> {{element.CardPlans}}</td>
        </ng-container>
        <ng-container matColumnDef="Status">
            <th mat-header-cell *matHeaderCellDef> Status </th>
            <td mat-cell *matCellDef="let element"> {{element.Status}}</td>
        </ng-container>
        <ng-container matColumnDef="Mid">
            <th mat-header-cell *matHeaderCellDef class="text-center">MID</th>
            <td mat-cell *matCellDef="let element;let i = index" class="text-center">
                <div *ngIf="update">
                    <span *ngIf="midIndex != i" style="margin-right: 5px" class="mat-caption">{{ midContainer[i] }}</span>
                    <a *ngIf="midIndex != i" (click)="showMidUpdateButton(i)" mat-mini-fab color="primary" style="color:white;">
                        <mat-icon>create</mat-icon>
                    </a>

                    <div class="action-container" *ngIf="midIndex == i">
                        <span class="flex-2"></span>
                        <span class="flex-1">
                            <mat-form-field>
                                <input matInput placeholder="MID" [formControl]="midInput" class="mat-input">
                            </mat-form-field>
                        </span>
                        <span class="flex-1 text-left">
                            <mat-icon class="save-button" matTooltip="Save MID" (click)="saveMid(midInput, i)">save</mat-icon>
                            <mat-icon class="cancel-button" (click)="cancel()" matTooltip="Cancel">close</mat-icon>
                        </span>
                        <span class="flex-2"></span>
                    </div>
                </div>
            </td>
        </ng-container>
        <ng-container matColumnDef="DebitTid">
            <th mat-header-cell *matHeaderCellDef class="text-center">Debit TID</th>
            <td mat-cell *matCellDef="let element;let i = index" class="text-center">
                <div *ngIf="update">
                    <span *ngIf="tidIndex != i" style="margin-right: 5px" class="mat-caption">{{ tidContainer[i] }}</span>
                    <a *ngIf="tidIndex != i" (click)="showTidUpdateButton(i)" mat-mini-fab color="primary" style="color:white;">
                        <mat-icon>create</mat-icon>
                    </a>

                    <div class="action-container" *ngIf="tidIndex == i">
                        <span class="flex-2"></span>
                        <mat-form-field class="flex-1">
                            <input matInput placeholder="TID" [formControl]="tidInput">
                        </mat-form-field>
                        <span class="flex-1 text-left">
                            <mat-icon class="save-button" matTooltip="Save MID" (click)="saveTid(tidInput, i)">save</mat-icon>
                            <mat-icon class="cancel-button" (click)="cancel()" matTooltip="Cancel">close</mat-icon>
                        </span>
                        <span class="flex-2"></span>
                    </div>
                </div>
            </td>
        </ng-container>
        <ng-container matColumnDef="Action">
            <th mat-header-cell *matHeaderCellDef class="text-center"></th>
            <td mat-cell *matCellDef="let element;let i = index" class="text-center">
                <a (click)="deleteItem(element.Id)" mat-mini-fab color="primary" matTooltip="Delete MID" *ngIf="showAction || action">
                    <mat-icon style="color:white;">edit</mat-icon>
                </a>
                <a (click)="deleteItem(element.Id)" mat-mini-fab color="primary" matTooltip="Delete MID" *ngIf="showAction || action">
                    <mat-icon style="color:white;">delete_outline</mat-icon>
                </a>
            </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
</div>